{% extends "user/base.html" %}
{% load static %}
{% block content %}
<div class="marquee-container">
    <div class="notice-box">NOTICE</div>
    <div class="marquee">
        <span class="marquee-content">ðŸš¨ Panchayath Tax Payment Deadline: March 15th! âš¡ Apply for property approvals online now! ðŸ“¢</span>
    </div>
</div>

<!-- Section 1: Carousel -->
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="{% static 'assets/income-tax-compressed.jpg' %}" class="d-block w-100" alt="Slide 1">
        </div>
        <div class="carousel-item">
            <img src="{% static 'assets/one.jpg' %}" class="d-block w-100" alt="Slide 2">
        </div>
        <div class="carousel-item">
            <img src="{% static 'assets/one.jpg' %}" class="d-block w-100" alt="Slide 3">
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>
</div>


<!-- Inline CSS -->
<style>
.carousel-inner img {
    width: 100%; /* Ensures images stretch to fit the width */
    height: 500px; /* Set a fixed height */
    object-fit: cover; /* Ensures images maintain aspect ratio and fill the container */
}
.carousel-item {
    height: 500px;
}
.carousel-item img {
    height: 100%;
    object-fit: cover;
}
.marquee-container {
    display: flex;
    align-items: center;
    background: #222;
    color: white;
    padding: 15px 0; /* Increased padding */
    border-radius: 0;
    overflow: hidden;
    width: 100%;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
    margin: 20px auto;
    height: 60px; /* Increased height */
    z-index: 1000;
    position: relative; /* Keep it below navbar */
    margin-top: 5px;
}

.notice-box {
    background: Black;
    color: white;
    font-weight: bold;
    padding: 18px 35px; /* Enlarged padding */
    font-size: 1.6em; /* Larger font */
    text-transform: uppercase;
    border-radius: 8px 0 0 8px;
    white-space: nowrap;
}

.marquee {
    flex: 1;
    overflow: hidden;
    position: relative;
    white-space: nowrap;
    
    font-size: 1.3em; /* Slightly bigger text */
}

.marquee-content {
    display: inline-block;
    padding-left: 100%;
    animation: scrollText 5s linear infinite;
}

@keyframes scrollText {
    from {
        transform: translateX(100%);
    }
    to {
        transform: translateX(-100%);
    }
}

</style>
<div  style="background-color:rgb(30, 40, 44); color: White; padding: 10px; border-radius: 10px;">
<!-- Section 2: Static Graphs -->
<!-- Section: Stylish Graphs -->
 
<div style="background-color:rgb(244, 239, 238); color: Black; padding: 20px; border-radius: 10px;">
    <!-- Stylish Graphs Section -->
    <div class="container my-5">
        <div class="d-flex justify-content-between align-items-center graph-container">
            <!-- First Chart (Left) -->
            <div class="chart-box">
                <h3 class="text-center">Graph 1</h3>
                <canvas id="revenueChart"></canvas>
            </div>

            <!-- Second Chart (Right) -->
            <div class="chart-box">
                <h3 class="text-center">Graph 2</h3>
                <canvas id="chart2"></canvas>
            </div>
        </div>
    </div>
</div>
<style>
    
    .graph-container {
        display: flex;
        width: 100%;
        gap: 0; /* Remove gaps */
    }

    .chart-box {
        background-color:rgb(8, 7, 7);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        width: 48%; /* Ensures both take equal space */
        height: 400px;
    }

    h3 {
        color: black;
        margin-bottom: 20px;
    }

    canvas {
        
        width: 100%;
        height: 100%;
        display: block;

    }
</style>


</div>

<!-- Section 3: Centered Text -->
<div>
    <div class="container my-5">
        <div class="row">
            <div class="col-md-8">
                <h1 class="fw-bold" style="font-size: 2.8rem; color: #343a40;">Kumbalam Grama Panchayat</h1>
                <p style="font-size: 1.2rem; line-height: 1.8; color: #555;">
                    Kumbalam Grama Panchayath is a local self-government body in Ernakulam district, Kerala. Situated near the scenic backwaters, it plays a vital role in the governance and development of the region. The panchayath covers the Kumbalam area, which consists of a mix of urban and rural settlements, offering a peaceful environment while being well-connected to the city of Kochi.
                    <br><br>
                    The panchayath is responsible for essential public services such as sanitation, waste management, infrastructure development, and welfare programs. It also focuses on tax collection, revenue generation, and public utility projects. With a growing population, Kumbalam Grama Panchayath continuously strives to enhance local facilities, including roads, schools, and healthcare centers.
                    <br><br>
                    As part of Keralaâ€™s decentralized governance system, the panchayath ensures citizen participation in decision-making and community development. Various initiatives are undertaken to support agriculture, fisheries, and small-scale industries, benefiting the local economy.
                    <br><br>
                    With a strong emphasis on sustainability and digital governance, Kumbalam Grama Panchayath is working towards modernizing public services while preserving its natural beauty and cultural heritage. It stands as a model for progressive and inclusive governance in Kerala.
                </p>
            </div>
        </div>
    </div>
    

</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Store JSON data safely in a script tag -->
<script type="application/json" id="revenue-data">{{ revenue_data|safe }}</script>
<script type="application/json" id="labels-data">{{ labels|safe }}</script>

<script>
    // Retrieve and parse JSON safely
    var revenueData = JSON.parse(document.getElementById('revenue-data').textContent);
    var labels = JSON.parse(document.getElementById('labels-data').textContent);

    var ctx = document.getElementById('revenueChart').getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [{
                label: 'Revenue',
                data: revenueData,
                borderColor: 'blue',
                backgroundColor: 'rgba(0, 0, 255, 0.1)',
                borderWidth: 2,
                fill: true
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>

<script>
    // Graph 2: Line Chart
    const ctx2 = document.getElementById('chart2').getContext('2d');
    new Chart(ctx2, {
        type: 'line',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
                label: 'Website Traffic',
                data: [500, 700, 800, 1200, 1500, 1800],
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 2,
                fill: true
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>

{% endblock content %}